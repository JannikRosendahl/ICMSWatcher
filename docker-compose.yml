services:
  icms-watcher:
    build: .
    container_name: icms-watcher
    env_file:
      - .env
    environment:
      # Run mode: set RUN_ONCE=true to run once and exit, otherwise runs on schedule
      # RUN_ONCE: "true"
      
      # Cron schedule (only used when RUN_ONCE is not set to true)
      # Format: minute hour day month weekday
      # Examples:
      #   */30 * * * * - every 30 minutes
      #   0 */2 * * *  - every 2 hours
      #   0 8 * * *    - daily at 8 AM
      CRON_SCHEDULE: "*/30 * * * *"
    volumes:
      - ./marks:/app/marks
      - ./logs:/app/logs
    restart: unless-stopped
    tty: true
